{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.Backoff = Backoff;\n  /**\n   * Initialize backoff timer with `opts`.\n   *\n   * - `min` initial timeout in milliseconds [100]\n   * - `max` max timeout [10000]\n   * - `jitter` [0]\n   * - `factor` [2]\n   *\n   * @param {Object} opts\n   * @api public\n   */\n  function Backoff(opts) {\n    opts = opts || {};\n    this.ms = opts.min || 100;\n    this.max = opts.max || 10000;\n    this.factor = opts.factor || 2;\n    this.jitter = opts.jitter > 0 && opts.jitter <= 1 ? opts.jitter : 0;\n    this.attempts = 0;\n  }\n  /**\n   * Return the backoff duration.\n   *\n   * @return {Number}\n   * @api public\n   */\n  Backoff.prototype.duration = function () {\n    var ms = this.ms * Math.pow(this.factor, this.attempts++);\n    if (this.jitter) {\n      var rand = Math.random();\n      var deviation = Math.floor(rand * this.jitter * ms);\n      ms = (Math.floor(rand * 10) & 1) == 0 ? ms - deviation : ms + deviation;\n    }\n    return Math.min(ms, this.max) | 0;\n  };\n  /**\n   * Reset the number of attempts.\n   *\n   * @api public\n   */\n  Backoff.prototype.reset = function () {\n    this.attempts = 0;\n  };\n  /**\n   * Set the minimum duration\n   *\n   * @api public\n   */\n  Backoff.prototype.setMin = function (min) {\n    this.ms = min;\n  };\n  /**\n   * Set the maximum duration\n   *\n   * @api public\n   */\n  Backoff.prototype.setMax = function (max) {\n    this.max = max;\n  };\n  /**\n   * Set the jitter\n   *\n   * @api public\n   */\n  Backoff.prototype.setJitter = function (jitter) {\n    this.jitter = jitter;\n  };\n});","lineCount":72,"map":[[6,2,1,0],[7,0,2,0],[8,0,3,0],[9,0,4,0],[10,0,5,0],[11,0,6,0],[12,0,7,0],[13,0,8,0],[14,0,9,0],[15,0,10,0],[16,0,11,0],[17,2,12,7],[17,11,12,16,"Backoff"],[17,18,12,23,"Backoff"],[17,19,12,24,"opts"],[17,23,12,28],[17,25,12,30],[18,4,13,4,"opts"],[18,8,13,8],[18,11,13,11,"opts"],[18,15,13,15],[18,19,13,19],[18,20,13,20],[18,21,13,21],[19,4,14,4],[19,8,14,8],[19,9,14,9,"ms"],[19,11,14,11],[19,14,14,14,"opts"],[19,18,14,18],[19,19,14,19,"min"],[19,22,14,22],[19,26,14,26],[19,29,14,29],[20,4,15,4],[20,8,15,8],[20,9,15,9,"max"],[20,12,15,12],[20,15,15,15,"opts"],[20,19,15,19],[20,20,15,20,"max"],[20,23,15,23],[20,27,15,27],[20,32,15,32],[21,4,16,4],[21,8,16,8],[21,9,16,9,"factor"],[21,15,16,15],[21,18,16,18,"opts"],[21,22,16,22],[21,23,16,23,"factor"],[21,29,16,29],[21,33,16,33],[21,34,16,34],[22,4,17,4],[22,8,17,8],[22,9,17,9,"jitter"],[22,15,17,15],[22,18,17,18,"opts"],[22,22,17,22],[22,23,17,23,"jitter"],[22,29,17,29],[22,32,17,32],[22,33,17,33],[22,37,17,37,"opts"],[22,41,17,41],[22,42,17,42,"jitter"],[22,48,17,48],[22,52,17,52],[22,53,17,53],[22,56,17,56,"opts"],[22,60,17,60],[22,61,17,61,"jitter"],[22,67,17,67],[22,70,17,70],[22,71,17,71],[23,4,18,4],[23,8,18,8],[23,9,18,9,"attempts"],[23,17,18,17],[23,20,18,20],[23,21,18,21],[24,2,19,0],[25,2,20,0],[26,0,21,0],[27,0,22,0],[28,0,23,0],[29,0,24,0],[30,0,25,0],[31,2,26,0,"Backoff"],[31,9,26,7],[31,10,26,8,"prototype"],[31,19,26,17],[31,20,26,18,"duration"],[31,28,26,26],[31,31,26,29],[31,43,26,41],[32,4,27,4],[32,8,27,8,"ms"],[32,10,27,10],[32,13,27,13],[32,17,27,17],[32,18,27,18,"ms"],[32,20,27,20],[32,23,27,23,"Math"],[32,27,27,27],[32,28,27,28,"pow"],[32,31,27,31],[32,32,27,32],[32,36,27,36],[32,37,27,37,"factor"],[32,43,27,43],[32,45,27,45],[32,49,27,49],[32,50,27,50,"attempts"],[32,58,27,58],[32,60,27,60],[32,61,27,61],[33,4,28,4],[33,8,28,8],[33,12,28,12],[33,13,28,13,"jitter"],[33,19,28,19],[33,21,28,21],[34,6,29,8],[34,10,29,12,"rand"],[34,14,29,16],[34,17,29,19,"Math"],[34,21,29,23],[34,22,29,24,"random"],[34,28,29,30],[34,29,29,31],[34,30,29,32],[35,6,30,8],[35,10,30,12,"deviation"],[35,19,30,21],[35,22,30,24,"Math"],[35,26,30,28],[35,27,30,29,"floor"],[35,32,30,34],[35,33,30,35,"rand"],[35,37,30,39],[35,40,30,42],[35,44,30,46],[35,45,30,47,"jitter"],[35,51,30,53],[35,54,30,56,"ms"],[35,56,30,58],[35,57,30,59],[36,6,31,8,"ms"],[36,8,31,10],[36,11,31,13],[36,12,31,14,"Math"],[36,16,31,18],[36,17,31,19,"floor"],[36,22,31,24],[36,23,31,25,"rand"],[36,27,31,29],[36,30,31,32],[36,32,31,34],[36,33,31,35],[36,36,31,38],[36,37,31,39],[36,42,31,44],[36,43,31,45],[36,46,31,48,"ms"],[36,48,31,50],[36,51,31,53,"deviation"],[36,60,31,62],[36,63,31,65,"ms"],[36,65,31,67],[36,68,31,70,"deviation"],[36,77,31,79],[37,4,32,4],[38,4,33,4],[38,11,33,11,"Math"],[38,15,33,15],[38,16,33,16,"min"],[38,19,33,19],[38,20,33,20,"ms"],[38,22,33,22],[38,24,33,24],[38,28,33,28],[38,29,33,29,"max"],[38,32,33,32],[38,33,33,33],[38,36,33,36],[38,37,33,37],[39,2,34,0],[39,3,34,1],[40,2,35,0],[41,0,36,0],[42,0,37,0],[43,0,38,0],[44,0,39,0],[45,2,40,0,"Backoff"],[45,9,40,7],[45,10,40,8,"prototype"],[45,19,40,17],[45,20,40,18,"reset"],[45,25,40,23],[45,28,40,26],[45,40,40,38],[46,4,41,4],[46,8,41,8],[46,9,41,9,"attempts"],[46,17,41,17],[46,20,41,20],[46,21,41,21],[47,2,42,0],[47,3,42,1],[48,2,43,0],[49,0,44,0],[50,0,45,0],[51,0,46,0],[52,0,47,0],[53,2,48,0,"Backoff"],[53,9,48,7],[53,10,48,8,"prototype"],[53,19,48,17],[53,20,48,18,"setMin"],[53,26,48,24],[53,29,48,27],[53,39,48,37,"min"],[53,42,48,40],[53,44,48,42],[54,4,49,4],[54,8,49,8],[54,9,49,9,"ms"],[54,11,49,11],[54,14,49,14,"min"],[54,17,49,17],[55,2,50,0],[55,3,50,1],[56,2,51,0],[57,0,52,0],[58,0,53,0],[59,0,54,0],[60,0,55,0],[61,2,56,0,"Backoff"],[61,9,56,7],[61,10,56,8,"prototype"],[61,19,56,17],[61,20,56,18,"setMax"],[61,26,56,24],[61,29,56,27],[61,39,56,37,"max"],[61,42,56,40],[61,44,56,42],[62,4,57,4],[62,8,57,8],[62,9,57,9,"max"],[62,12,57,12],[62,15,57,15,"max"],[62,18,57,18],[63,2,58,0],[63,3,58,1],[64,2,59,0],[65,0,60,0],[66,0,61,0],[67,0,62,0],[68,0,63,0],[69,2,64,0,"Backoff"],[69,9,64,7],[69,10,64,8,"prototype"],[69,19,64,17],[69,20,64,18,"setJitter"],[69,29,64,27],[69,32,64,30],[69,42,64,40,"jitter"],[69,48,64,46],[69,50,64,48],[70,4,65,4],[70,8,65,8],[70,9,65,9,"jitter"],[70,15,65,15],[70,18,65,18,"jitter"],[70,24,65,24],[71,2,66,0],[71,3,66,1],[72,0,66,2],[72,3]],"functionMap":{"names":["<global>","Backoff","Backoff.prototype.duration","Backoff.prototype.reset","Backoff.prototype.setMin","Backoff.prototype.setMax","Backoff.prototype.setJitter"],"mappings":"AAA;OCW;CDO;6BEO;CFQ;0BGM;CHE;2BIM;CJE;2BKM;CLE;8BMM;CNE"}},"type":"js/module"}]}